# ==============================================
# OPS Platform Environment Variables Template
# ==============================================
# Copy this file to .env and update the values
# DO NOT commit .env file to version control
# ==============================================

# Environment (development, staging, production)
ENVIRONMENT=development

# ==============================================
# Database Configuration
# ==============================================
POSTGRES_USER=opsuser
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
POSTGRES_DB=opsplatform
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# Database URL (will be constructed from above)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# ==============================================
# Redis Configuration
# ==============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# ==============================================
# Security - JWT Configuration
# ==============================================
# IMPORTANT: Generate a secure random key for production
# Example: openssl rand -hex 32
SECRET_KEY=CHANGE_ME_GENERATE_RANDOM_KEY_WITH_openssl_rand_hex_32
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ==============================================
# Security - Encryption Key (for SSH credentials)
# ==============================================
# IMPORTANT: Generate a separate key for credential encryption
# Example: python3 -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
# This key must be 32 url-safe base64-encoded bytes (44 characters including =)
ENCRYPTION_KEY=CHANGE_ME_GENERATE_USING_FERNET_GENERATE_KEY

# ==============================================
# Backend Configuration
# ==============================================
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000
BACKEND_RELOAD=false
BACKEND_WORKERS=4
BACKEND_LOG_LEVEL=info

# ==============================================
# Frontend Configuration
# ==============================================
VITE_API_BASE_URL=/api/v1
FRONTEND_PORT=5173

# ==============================================
# Nginx Configuration
# ==============================================
NGINX_PORT=80
NGINX_SSL_PORT=443
# Allowed CORS origins (comma separated, or * for all in dev only)
CORS_ORIGINS=http://localhost:5173,http://localhost

# ==============================================
# Monitoring - Prometheus
# ==============================================
PROMETHEUS_PORT=9090

# ==============================================
# Monitoring - Grafana
# ==============================================
GRAFANA_PORT=3000
# IMPORTANT: Change default admin credentials
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
GF_INSTALL_PLUGINS=redis-datasource

# ==============================================
# Celery Configuration
# ==============================================
CELERY_BROKER_URL=${REDIS_URL}
CELERY_RESULT_BACKEND=${REDIS_URL}
CELERY_LOG_LEVEL=info

# ==============================================
# Docker Configuration
# ==============================================
# Resource Limits
BACKEND_MEMORY_LIMIT=1g
BACKEND_CPU_LIMIT=1.0
POSTGRES_MEMORY_LIMIT=2g
POSTGRES_CPU_LIMIT=2.0
REDIS_MEMORY_LIMIT=512m
REDIS_CPU_LIMIT=0.5

# ==============================================
# Logging Configuration
# ==============================================
LOG_LEVEL=info
LOG_FORMAT=json
